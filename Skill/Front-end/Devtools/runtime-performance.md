# 性能面板使用

使用`Performance`面板, 勾选`Screenshots`并打开设置选择让CPU运行减慢的倍数. 可以模拟低端机器的运行环境. 点击录制按钮或者`Ctrl-e`来执行录制. 得到录制结果后, 如果在FPS线上看到红色记录条, 表明程序性能有问题, 会导致用户体验差, 也就是页面卡顿严重.

FPS下面的是CPU使用图表, 整个图表越满, 代表CPU使用情况越严重.

而在`Frames`部分可以看到每一帧画面的耗时, 得出界面是否符合60fps的标准. 可以使用`Shift+Ctrl+p`调出命令面板输入`Show Rendering`在页面上显示渲染情况.

在`Main`栏上能看到具体的调用函数, 从左到右代表函数持续时间, 从上到下代表调用堆栈, 最上面的表示初始调用, 导致下面的调用的发生. 焦点在`Main`栏上时还可以通过`WASD`来操作查看的范围. 或者将鼠标放到`Screenshots`上滚动缩放. 得出一个合适的`Frame`后, 如果`Main`面板上的某个栏右上角出现红色的角标, 这表示应用在执行这个栏的函数时超时, 是导致性能问题的原因之一. 点击某一栏, 能够在下方的`Summary`处看到调用耗时以及调用的函数是哪句, 并在点击时转跳到相应的行处. 通过检查处于`Main`较低位置的调用函数, 能够找到导致`Layout Forced`等问题的函数, 点击转跳到相应的行来分析.