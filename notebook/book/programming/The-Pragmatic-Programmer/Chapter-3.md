# 巜程序员修练之道》
## 第三章：基本工具
### 纯文本的威力
#### 文本的威力
* 保证不过时
* 杠杆作用
* 更易于测试
**保证不过时**
人能够阅读的数据形式，以及自描述的数据，将比所有其他的数据形式和创建它们的应用都活得更久。
人能够阅读与人能够理解之间的区别能使数据存在得更久.
**杠杆作用**
计算机中的每一样工具，从源码系统到编译器环境，再到编译器及独立的过滤器，都能够在纯文本上进行操作。
**更易于测试**
如果用纯文本创建用于驱动系统测试的合成数据，那么增加、更新、或是修改测试数据就是一件简单的事，无须为此创建任何特殊的工具
#### 最小公分母
在异种环境中，纯文本的优点比所有缺点都重要，需要确保所有各方能够使用公共标准进行通信。纯文本就是那个标准。
### shell游戏
通过组合shell下的全套工具，以及管道等能够以从未想过的方式在一起。实现启动应用、调试器、浏览器、编辑器以及各种实用程序。可以进行搜索文件、查询系统状态、过滤输出等，还可以用shell编程来构建复杂的宏命令，完成经常进行的各种活动。利用命令shell的力量，熟悉shell能够迅速提高生产率。
### 强力编辑
精通一种编辑器并将其用于所有的编辑任务：代码、文档、备忘录、系统管理等。我们需要彻底了解一种编辑器，通过使用其进行所有的文本编辑活动，锻炼到能够无需思考怎样完成文本操作，将必需的键击变成本能反应。
#### 编辑器特性
- 可配置，编辑器应该能够根据偏好来进行配置。
* 可拓展，能够把任何新语言或文本格式集成进去
* 可编程，可以对编辑器进行编程以执行复杂的、多步骤的任务。
* 语法突显
* 自动完成
* 自动锁进
* 初始代码或文档样板
* 与帮助系统挂接
* 类IDE特性（编译、调试等）
### 源码控制
总是使用源码控制，并确保每样东西都处于源码控制之下能够使我们的日常工作被安全地保存在仓库中。
#### 源码控制与构件
把整个项目置于源码控制系统的保护之下具有一项很大的、隐秘的好处：可以进行自动的可重复的产品构建。
### 调试
调试的第一准则：不要恐慌。同时要设法找到问题的根源，而不是问题的特定表现。
在设法解决任何问题时，需要搜集所有的相关数据。必要时观察报告bug的用户的操作以获取足够程序的细节。
#### 测试策略
- 再现bug，修正bug的最佳途径是使其再现，且缩短再现步骤，并强迫自己隔离显示出bug的环境，过程中甚至可以见到它的修正方法。
* 使数据可视化，通过使数据可视化能够更加容易进行调试。DDD调试器有一定的可视化能力
* 跟踪，在需要观察程序或者数据结构随时间变化的状态时， 如果栈跟踪无法提供有效信息时，可以通过跟踪语句把小诊断信息输出来进行诊断。诊断信息需要采用规范、一致的格式。在遇到变量相关的怪异错误时，可以优先检查变量的周边数据状态来尝试解决错误。
* 橡皮鸭，找一个对象来向它解释问题，在解释的过程中常常就能发现问题的所在。
* 消除过程，消除问题的过程应该优先以正在开发的代码为出错点优先考虑，其次是已完成的模块，第三方代码、操作系统、系统库、编译器等。
一个调试检查列表：
-  正在报告的问题是底层bug的直接结果，还是只是症状？
* bug真的在编译器？在OS里？或者是在你的代码里？
* 如果要向你的同事详细解释这个问题，你会说什么？
* 如果可疑代码通过了单元测试，测试是否足够完整？如果你用该数据运行单元测试，会发生什么？
* 造成这个bug的条件是否存在于系统中的其他任何地方？
### 文本操纵
学习一种文本操纵语言，使用其来构建实用程序，为想法建立原型等。
### 代码生成器
代码生成器有两种主要类型：
1. 被动代码生成器只运行一次来生成结果。然后结果就变成独立的，与代码生成器分离了
2. 主动代码生成器在每次需要其结果时被使用。结果用完就丢弃，且为了生成结果常常需要读取某种形式的脚本或控制文件。
#### 被动代码生成器
本质上是参数化模版，根据一组输入生成给定的输出形式。产生的结果将作为其他任何文件一样被编译、编辑、受源码控制等。
用途：
- 创建新的源文件。例如：模版、源码控制指示、版权说明等
* 在编程语言间进行一次性转换
* 生成查找表以及其他在运行时计算很昂贵的资源
#### 主动代码生成器
通过主动代码生成器，可以取某项知识的一种表示形式，将其转换为你的应用需要的所有形式。
#### 代码生成器不一定要很复杂
让输入格式保持简单，代码生成器就会变得简单。
#### 代码生成器不一定要生成代码
可以用代码生成器来生成几乎任何输出：HTML、XML、纯文本等。