# 第五章 关注点分离

分离关注点的含义是在应用程序中每个模块或者层都应该只负责一件事, 不应该包含处理其他事情的代码. 通过分离关注点可以将大型程序分解为许多封装好功能的更小的单元来降低代码的复杂度.

**分离关注点**可以表示为函数, 模块, 控件(controls), 小部件(widgets), 层(layers), 层级(tiers), 服务等等.

**控件**指的是允许用户与应用进行交互的可复用 GUI 输入.

**小部件**指的是旨在嵌入其他应用程序的小应用程序. 应该也可以叫做: 插件.

**层**指的是一个功能的逻辑分组. 比如封装了与数据以及状态相关的功能的层.

**层级**指的是被部署的层的运行环境, 通常会包括至少一个物理计算机, 操作系统, 执行引擎( Node, Ruby 等), 以及需要表达应用程序如何与其环境进行交互的任何配置.

## 客户端关注点

以下是几乎每个 JavaScript 应用程序都需要处理的某些点:

- 模块管理
- 事件
- 展示以及 DOM 操作
- 国际化
- 数据管理以及 IO (包括 Ajax)
- 路由 (转换 URLs 为脚本行为)
- 日志
- 分析追踪
- 认证
- 特性切换 (解耦代码部署和功能发布)

### 模块管理

模块管理关注于应用标准的结构来允许你的模块更容易地组合在一起, 彼此能够通信而不紧密地耦合在一起.

模块管理通常需要为应用程序提供:

- 命名空间
- 沙盒 (其他模块可以安全使用功能的基础层)
- 访问环境变量以及引导数据
- 模块生命周期钩子 (用来帮助装载以及卸载)
- 用于模块间沟通的事件系统

参考资料: [大型 JavaScript 应用程序架构][1]

[1]: https://addyosmani.com/largescalejavascript/
