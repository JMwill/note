# 代理模式

**关键**:当客户不方便直接访问一个对象或者不满足需要的时候，提供一个替身对象来控制对这个对象的访问，客户实际上访问的是替身对象。替身对象对请求做出处理后，再把请求转交给本体对象。

代理实际上就是将请求进行转发，但仅仅进行转发的代理是多此一举的。只有当需要进行额外的操作如：过滤请求或延迟请求等时，代理的使用才是有价值的。

保护代理：为真实本体过滤掉不需要的请求。用于控制不同权限的对象对目标对象的访问，但JS中实现判断谁访问了对象较为困难。

虚拟代理：将开销大的操作延迟到本体需要时才创建。图片预加载

不使用虚拟代理进行程序设计会违背单一职责原则，单一职责是指，就一个类（包括对象、函数等）而言，应该仅有一个引起它变化的原因。一旦承担过多的职责将会使得引起变化的原因变成多个，且会导致职责耦合在一起，导致脆弱和低内聚的设计。

***

代理和本体接口的一致性，代理接手请求的过程对于用户来说是透明的，本体与代理具有一样的接口，任何使用本体的地方都可以用代理替换

当发现不方便直接访问某个对象的时候才可能需要编写代理来实现。
